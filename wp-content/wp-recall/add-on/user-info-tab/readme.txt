== Установка/Обновление ==

<h3 style="text-align: center;">Установка:</h3>
Т.к. это дополнение для WordPress плагина <a href="https://codeseller.ru/groups/plagin-wp-recall-lichnyj-kabinet-na-wordpress/" target="_blank">WP-Recall</a>, то оно устанавливается через <a href="https://codeseller.ru/obshhie-svedeniya-o-dopolneniyax-wp-recall/" target="_blank"><strong>менеджер дополнений WP-Recall</strong></a>.

1. В админке вашего сайта перейдите на страницу "WP-Recall" -> "Дополнения" и в самом верху нажмите на кнопку "Обзор", выберите .zip архив дополнения на вашем пк и нажмите кнопку "Установить".
2. В списке загруженных дополнений, на этой странице, найдите это дополнение, наведите на него курсор мыши и нажмите кнопку "Активировать". Или выберите чекбокс и в выпадающем списке действия выберите "Активировать". Нажмите применить.


<h3 style="text-align: center;">Обновление:</h3>
Дополнение поддерживает <a href="https://codeseller.ru/avtomaticheskie-obnovleniya-dopolnenij-plagina-wp-recall/" target="_blank">автоматическое обновление</a> - два раза в день отправляются вашим сервером запросы на обновление.
Если в течении суток вы не видите обновления (а на странице дополнения вы видите что версия вышла новая), советую ознакомиться с этой <a href="https://codeseller.ru/post-group/rabota-wordpress-krona-cron-prinuditelnoe-vypolnenie-kron-zadach-dlya-wp-recall/" target="_blank">статьёй</a>




== FAQ ==

* Удобно поставить эту вкладку ("Инфо") первой (в админке "WP-Recall"->"Менеджер вкладок" - перенесите ее выше) и при заходе в личный кабинет пользователи увидят сразу сводную информацию о юзере.

* Дополнение использует функционал шаблонов WP-Recall. Как работать с шаблонами описано <a href="https://codeseller.ru/?p=11632" target="_blank"><strong>здесь</strong></a>.

* Руководство по расширенному использованию этого дополнения с примерами <a href="https://codeseller.ru/post-group/rabotaem-s-dopolneniem-user-info-tab-dobavlyaem-svoyu-informaciyu-i-funkcii/" target="_blank"><strong>опубликовал тут</strong></a>


= Какие дополнения нужно установить, чтобы было как на видео? =
- Обязателен к установке бесплатный шаблон личного кабинета: <a href="https://codeseller.ru/products/theme-control/" target="_blank"><strong>Theme Control</strong></a>
Как только вы его подключите - то увидите результат.

= на видео активированы: =
Верхняя область - где имя пользователя:
* Feed Wp-Recall (Подписки) - доп из базовой версии WP-Recall
* Rating System (Система рейтинга) - доп из базовой версии WP-Recall
* <a href="https://codeseller.ru/?p=6803" target="_blank">Presents Wp-Recall (Подарки)</a>
* <a href="https://codeseller.ru/?p=8977" target="_blank">Latest comments author</a> (последние комментарии)


 Справа от вертикального меню - колонка с аватаркой:
* User Profile (Профиль пользователя) - доп из базовой версии WP-Recall
* Rcl Chat (Чат) - доп из базовой версии WP-Recall
* <a href="https://codeseller.ru/?p=4637" target="_blank">Social Recall</a>
* <a href="https://codeseller.ru/?p=6803" target="_blank">Presents Wp-Recall (Подарки)</a>
* Feed Wp-Recall (Подписки) - доп из базовой версии WP-Recall
* <a href="https://codeseller.ru/?p=6132" target="_blank">Video Gallery Recall (Видеогалерея)</a>

Справа сверху-вниз - контентная часть:
* <a href="https://codeseller.ru/?p=13377" target="_blank">Birthday in Profile</a>
* <a href="https://codeseller.ru/?p=10541" target="_blank">Сountry &amp; city in profile</a>
* User balance (Личный счет) - доп из базовой версии WP-Recall
* <a href="https://codeseller.ru/?p=8190" target="_blank">LastPage</a>
* <a href="https://codeseller.ru/?p=3471" target="_blank">Gallery Recall (Личная галерея)</a>

В блоке "Статистика" выводит данные из плагинов:
* <a href="https://wordpress.org/plugins/asgaros-forum/" target="_blank">Asgaros Forum</a>
* <a href="https://wordpress.org/plugins/bbpress/" target="_blank">bbPress</a>
и из дополнений:
* Groups Wp-Recall (Группы) - доп из базовой версии WP-Recall
* Recall Magazine (Магазин) - доп из базовой версии WP-Recall
* <a href="https://codeseller.ru/?p=8611" target="_blank">Notes (Заметки)</a>
* <a href="https://codeseller.ru/?p=6132" target="_blank">Video Gallery Recall (Видеогалерея)</a>
* <a href="https://codeseller.ru/?p=3471" target="_blank">Gallery Recall (Личная галерея)</a>

и в самом низу:
* <a href="https://codeseller.ru/?p=13074" target="_blank">Notes Frontage</a>




== Changelog ==
= 2019-03-13 =
v2.5.0
* подправил работу под актуальные версии дополнений Gallery Recall и Video Gallery
* рефакторинг
* привел к стандартам WPCS


= 2019-01-06 =
v2.4.1
* Исправлен неверный подсчет в подписчиках если от автора отписываются через фид


= 2018-11-15 =
v2.4.0
* поддержка WP-Recall 16.16
* минимизация скриптов и стилей


= 2018-02-22 =
v2.3.3
* Работа с дополнением Birthday In Profile версии v3.0


= 2017-11-25 =
v2.3.2
* В шаблоне Theme Control со сводной вкладки (перейдя по ajax на нее) невозможно было загрузить аву пока F5 не нажмешь


= 2017-11-10 =
v2.3.1
* небольшой css-фикс под шаблон Theme Control


= 2017-10-16 =
v2.3
* Добавил js фильтр uit_slide_cabinet - позволяет отключить прокрутку в кабинете к верхней части кабинета
Скролл отключается таким js сниппетом:
```rcl_add_filter('uit_slide_cabinet','otfm_scroll_tab_off');
function otfm_scroll_tab_off(){ return 'off'; }```


= 2017-10-03 =
v2.2.5
* Работа с версией 16.7.2


= 2017-09-04 =
v2.2.4
* Заметки (Notes Frontage), при использовании шаблона ЛК Theme Control, выводятся шаблоном не card, а author - т.к. аватарка нам у автора не нужна. И этот шаблон поддерживает человечное время


= 2017-09-04 =
v2.2.3
* Исправлена ошибка выборки подписчиков при использовании шаблона ЛК Theme Control. Пользователи что входили через uLogin и имели там аватарку дублировались


= 2017-09-03 =
v2.2.2
* Поддержка последней версии WP-Recall
* Поддержка последних версий используемых дополнений (устранены баги с галереей и видеогалереей на шаблоне Theme Control)
* Добавлена иконка дополнения
* Исключение уведомлений уровня notice


= 2017-08-02 =
v2.2.1
* Исправил уведомления уровня PHP Notice


= 2017-06-15 =
v2.2
* При выводе возраста и дня рождения учитываются настройки дополнения Birthday in Profile
"Показывать возраст: в подробной информации, в списке пользователя и в блоке автора?"
и
"Показывать дату рождения?"



= 2017-04-20 =
v2.1
* Работа с 16-й версией WP-Recall


= 2017-03-06 =
v2.0.1
* небольшая корректировка стилей


= 2017-03-06 =
v2.0
* Работа с версией WP-Recall 15.9.7
* Добавлен новый template (user-info-control.php) для работы с шаблоном личного кабинета "Theme Control".
Подключается автоматически при активации этого шаблона личного кабинета.
* Работа по интеграции с этим шаблоном
* Добавлена область сайдбара "UIT: Сайдбар контента подвала User Unfo Tab" в подвал шаблона.
Вы можете найти его в админке "Внешний вид" - "Виджеты" и поставить в него нужный виджет. 
Все ниже введенные функции пока только для нового шаблона (user-info-control.php) совместно с допом "Theme Control"
* Добавлена функция <code>uit_user_site($user_lk, $title, $fa_icon)</code> - выводит сайт пользователя (не активную ссылку)
* Добавлен блок аватара и сопутствующие ему кнопки, в зависимости от владельца кабинета
Блок выводится функцией <code>uit_user_avatar($user_LK)</code>
* Добавлен спойлер. Позже в FAQ опишу работу с ним
* Добавлен блок подписчиков в сайдбар, и блок подписок (на кого подписан)
Участники там сортируются по времени активности. Т.е. кто онлайн - вы это увидите.
* Добавлена функция подсчета всех фото от дополнения Gallery Recall
* Добавлен вывод 4-рех последних фотографий от дополнения Gallery Recall
* Добавлена функция подсчета всех видео от дополнения Video Gallery Recall
* Добавлен вывод 2-х последних видео от дополнения Video Gallery Recall
* Ссылки со счетчиков ведут ajax-ом на соответствующую страницу (при условии что допы поддерживают ее)
* Поддержка Notes Frontage
* Все типы записей пользователя теперь хранятся в глобальной переменной $uit_user_posttype_cnt
она заполнена так:
```
Array (
    [attachment] => stdClass Object
        (
            [post_type] => attachment
            [cnt] => 22
        )
    [video] => stdClass Object
        (
            [post_type] => video
            [cnt] => 29
        )
    [forum] => stdClass Object
        (
            [post_type] => forum
            [cnt] => 2
        )
)
// вызывать так: 
    global $uit_user_posttype_cnt;
    $uit_user_posttype_cnt[$type]->cnt
// где в $type передаете название типа записи (например вложения - 'attachment')
```

* Добавлен хук (actions) 'uit_top' - самый верх. Сразу после первого div-а
Используется для инициализации.

* Пустой спойлер скрывается
* Своя прокрутка к кабинету (реколл прокрутка вкладок отключена)
* Прокрутка в вкладке чат к форме общения - на высоких экранах, если форма умещается в область видимости, она не работает. А вот при маленьком экране (мобильники) - прокручивается к форме общения
* Контентная часть измеряется - и соответствующий класс добавляется. К id #tab-user-info добавляются следующие классы - uit_w_400, uit_w_550, uit_w_700, uit_w_800. Так мы можем влиять версткой на адаптивность - к примеру если у вас кабинет не широкоформатный и имеет сайдбар от ВП шаблона.
* Плавное появление контента (250 миллисекунд) - позволяет скрыть рендеринг этой области и показать уже отрисованным.
... + что-то еще по мелочи ...


= 2017-02-13 =
v1.5
* Поддержка ajax-загрузки вкладки (не понятно почему я от этого вначале отказался. Будут баги - репорт присылайте)
* Блок справа - "Эти данные вы можете заполнить/изменить в своем профиле. Перейти" - это теперь ajax ссылка на редактирование своих данных. 
Раньше клик по ссылке перезагружал страницу. Теперь вкладка редактирования профиля загружается без обновления страницы


= 2017-02-12 =
v1.4
* Теперь в функцию <code>uit_count_type_post</code> вы можете передавать любые post_type, ограничений на типы записей никаких
* Добавлен вывод баланса пользователя. Сколько средств на личном счете. Его видит админ и владелец кабинета


= 2017-01-11 =
v1.3.1
* решена проблема с сессией пользователя при включенном кешировании реколл. Гостям кабинета отдается из кеша, а админу и автору кабинета не кешированная версия.


= 2017-01-10 =
v1.3
* Оптимизация работы дополнения. 
Исправлено:
* Холостые запросы в бд теперь не посылаются если элемент статистики отсутствует.
Добавлено:
* Добавлена поддержка Asgaros Forum (В статистике выводит 2 блока: Тем на форуме и Сообщений на форуме)
* Добавлена информация по сессиям пользователя. Включает в себя количество сессий и в них указывает "Время логина пользователя", когда сессия (авторизация) истекает, IP адрес с которого авторизовался пользователь и User Agent устройства.
Эта информация видна администрации и хозяину личного кабинета.
* Добавлен хук uit_footer - срабатывает в самом низу - т.к. выше блока "Сессии" работает хук uit_after_stats


= 2016-12-23 =
v1.2
* В статистике добавлено значение: "На сайте, дней". Показывает сколько дней прошло с регистрации пользователя.
* Дизайн блока статистики переосмыслен - теперь он выводится плиткой.
* К заголовкам добавлены иконки. Вы можете их поменять на свои, или убрать вовсе - смотрите скриншот.
* Добавлено 4 хука. Срабатывают до блока информации (хук uit_before_info), после него (uit_after_info), до статистики (uit_before_stats) и после нее (uit_after_stats). Могут использоваться вашими функциями или сторонними дополнениями - и добавлять свои данные.


= 2016-12-22 =
v1.1
* добавил кнопку увеличения аватарки


= 2016-12-19 =
v1.0
* Release




== Поддержка и контакты ==

* Поддержка осуществляется в рамках текущего функционала дополнения
* При возникновении проблемы, создайте соотвествующую тему на <a href="/forum/product-13876" target="_blank">форуме поддержки товара</a>
* Если вам нужна доработка под ваши нужды - вы можете обратиться ко мне в <a href="https://codeseller.ru/author/otshelnik-fm/?tab=chat" target="_blank">ЛС</a> с техзаданием на платную доработку.

Все мои работы опубликованы <a href="https://otshelnik-fm.ru/?p=2562&utm_source=premium-addons&utm_medium=addon-description&utm_campaign=user-info-tab&utm_content=codeseller.ru&utm_term=all-my-addons" target="_blank">на моём сайте</a> и в каталоге магазина <a href="https://codeseller.ru/author/otshelnik-fm/?tab=publics&subtab=type-products" target="_blank">CodeSeller.ru</a>
